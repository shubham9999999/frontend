(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{165:function(e){e.exports=JSON.parse('{"v":"4.8.0","meta":{"g":"LottieFiles AE 1.1.0","a":"","k":"","d":"","tc":""},"fr":25,"ip":0,"op":66,"w":800,"h":800,"nm":"Comp 1","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"dot3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":5,"s":[551,397.941,0],"to":[0,-22.5,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":12,"s":[551,262.941,0],"to":[0,0,0],"ti":[0,-6.667,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":18,"s":[551,397.941,0],"to":[0,6.667,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":23.334,"s":[551,302.941,0],"to":[0,0,0],"ti":[0,-4.833,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":28.667,"s":[551,397.941,0],"to":[0,4.833,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":34,"s":[551,331.941,0],"to":[0,0,0],"ti":[0,-2.5,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":39.334,"s":[551,397.941,0],"to":[0,2.5,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":44.667,"s":[551,346.941,0],"to":[0,0,0],"ti":[0,-4.667,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":50.889,"s":[551,397.941,0],"to":[0,4.667,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0},"t":58,"s":[551,374.941,0],"to":[0,0,0],"ti":[0,-3.833,0]},{"t":65.111328125,"s":[551,397.941,0]}],"ix":2},"a":{"a":0,"k":[1335.652,770.152,0],"ix":1},"s":{"a":0,"k":[130,130,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[74.305,74.305],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.258990747788,0.286569991766,0.955193014706,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[1327.957,768.566],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":66,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"dot2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":2,"s":[408,397.941,0],"to":[0,-22.5,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":9.444,"s":[408,262.941,0],"to":[0,0,0],"ti":[0,-6.667,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":14.889,"s":[408,397.941,0],"to":[0,6.667,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":20.223,"s":[408,302.941,0],"to":[0,0,0],"ti":[0,-4.833,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":25.556,"s":[408,397.941,0],"to":[0,4.833,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":30.889,"s":[408,331.941,0],"to":[0,0,0],"ti":[0,-2.5,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":36.223,"s":[408,397.941,0],"to":[0,2.5,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":41.556,"s":[408,346.941,0],"to":[0,0,0],"ti":[0,-4.667,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":47.777,"s":[408,397.941,0],"to":[0,4.667,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0},"t":54.889,"s":[408,374.941,0],"to":[0,0,0],"ti":[0,-3.833,0]},{"t":62,"s":[408,397.941,0]}],"ix":2},"a":{"a":0,"k":[1335.652,770.152,0],"ix":1},"s":{"a":0,"k":[130,130,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[74.305,74.305],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.256910286698,0.489340928022,0.917356004902,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[1327.957,768.566],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":66,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"dot1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":0,"s":[267,397.941,0],"to":[0,-22.5,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":5.444,"s":[267,262.941,0],"to":[0,0,0],"ti":[0,-6.667,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":11.889,"s":[267,397.941,0],"to":[0,6.667,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":18.223,"s":[267,302.941,0],"to":[0,0,0],"ti":[0,-4.833,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":23.556,"s":[267,397.941,0],"to":[0,4.833,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":28.889,"s":[267,331.941,0],"to":[0,0,0],"ti":[0,-2.5,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":34.223,"s":[267,397.941,0],"to":[0,2.5,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":39.556,"s":[267,346.941,0],"to":[0,0,0],"ti":[0,-4.667,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":45.777,"s":[267,397.941,0],"to":[0,4.667,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0},"t":52.889,"s":[267,374.941,0],"to":[0,0,0],"ti":[0,-3.833,0]},{"t":60,"s":[267,397.941,0]}],"ix":2},"a":{"a":0,"k":[1335.652,770.152,0],"ix":1},"s":{"a":0,"k":[130,130,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[74.305,74.305],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.374571078431,0.662682267731,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[1327.957,768.566],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":66,"st":0,"bm":0}],"markers":[]}')},196:function(e,t,n){},197:function(e,t,n){},227:function(e,t,n){},283:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(44),s=n.n(r),i=(n(196),n(197),n(58)),c=n(142),o=n(10),l=n(15),d=n(6),u=n(159),j=n(98),b=n(140),h=n(141),p=n(16),x=n.n(p),O=n(13),f=n(3),m=Object(a.createContext)(),g=function(){return Object(a.useContext)(m)},y=function(e){var t=e.children,n=Object(a.useState)(),r=Object(d.a)(n,2),s=r[0],i=r[1],c=Object(a.useState)(),o=Object(d.a)(c,2),l=o[0],u=o[1],j=Object(a.useState)([]),b=Object(d.a)(j,2),h=b[0],p=b[1],x=Object(a.useState)([]),g=Object(d.a)(x,2),y=g[0],v=g[1],k=Object(O.e)();return Object(a.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userInfo"));u(e),e||k.push("/")}),[k]),Object(f.jsx)(m.Provider,{value:{selectedChat:s,setSelectedChat:i,user:l,setUser:u,notification:h,setNotification:p,chats:y,setChats:v},children:t})};var v=function(){var e=Object(a.useState)(!1),t=Object(d.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(),c=Object(d.a)(s,2),p=c[0],m=c[1],y=Object(a.useState)(),v=Object(d.a)(y,2),k=v[0],C=v[1],w=Object(a.useState)(!1),S=Object(d.a)(w,2),E=S[0],_=S[1],F=Object(u.a)(),A=Object(O.e)(),I=g().setUser;Object(a.useEffect)((function(){JSON.parse(localStorage.getItem("userInfo"))&&A.push("/chats")}),[A]);var z=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t,n,a;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_(!0),p&&k){e.next=5;break}return F({title:"Please fill all the required fields.",status:"warning",duration:5e3,isClosable:!0,position:"bottom"}),_(!1),e.abrupt("return");case 5:return e.prev=5,t={headers:{"Content-type":"application/json"}},e.next=9,x()({method:"post",url:"/api/user/login",config:t,data:{email:p,password:k}});case 9:n=e.sent,a=n.data,F({title:"Log in successful.",status:"success",duration:5e3,isClosable:!0,position:"bottom"}),localStorage.setItem("userInfo",JSON.stringify(a)),I(a),_(!1),A.push("/chats"),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(5),F({title:"Error occurred!",description:e.t0.response.data.message,status:"error",duration:5e3,isClosable:!0,position:"bottom"}),_(!1);case 22:case"end":return e.stop()}}),e,null,[[5,18]])})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)(i.f,{spacing:"5px",children:[Object(f.jsxs)(j.a,{id:"email",isRequired:!0,children:[Object(f.jsx)(j.b,{children:"Email"}),Object(f.jsx)(b.a,{placeholder:"Enter Your Email",value:p,onChange:function(e){return m(e.target.value)}})]}),Object(f.jsxs)(j.a,{id:"password",isRequired:!0,children:[Object(f.jsx)(j.b,{children:"Password"}),Object(f.jsxs)(b.b,{children:[Object(f.jsx)(b.a,{type:n?"text":"password",placeholder:"Enter Your Password",value:k,onChange:function(e){return C(e.target.value)}}),Object(f.jsx)(b.c,{width:"4.5rem",children:Object(f.jsx)(h.a,{h:"1.75rem",width:"sm",onClick:function(e){return r(!n)},children:n?"Hide":"Show"})})]})]}),Object(f.jsx)(h.a,{colorScheme:"blue",width:"100%",style:{marginTop:15},onClick:z,isLoading:E,children:"Log In"}),Object(f.jsx)(h.a,{variant:"solid",colorScheme:"red",width:"100%",onClick:function(){m("guest@example.com"),C("123456")},children:"Get Guest User Credentials"})]})};var k=function(){var e=Object(a.useState)(!1),t=Object(d.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(),c=Object(d.a)(s,2),p=c[0],m=c[1],g=Object(a.useState)(),y=Object(d.a)(g,2),v=y[0],k=y[1],C=Object(a.useState)(),w=Object(d.a)(C,2),S=w[0],E=w[1],_=Object(a.useState)(),F=Object(d.a)(_,2),A=F[0],I=F[1],z=Object(a.useState)(),B=Object(d.a)(z,2),N=B[0],R=B[1],D=Object(a.useState)(!1),P=Object(d.a)(D,2),G=P[0],W=P[1],L=Object(u.a)(),U=Object(O.e)(),M=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t,n,a;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(W(!0),p&&v&&S&&A){e.next=5;break}return L({title:"Please fill all the required fields.",status:"warning",duration:5e3,isClosable:!0,position:"bottom"}),W(!1),e.abrupt("return");case 5:if(S===A){e.next=9;break}return L({title:"Passwords do not match.",status:"warning",duration:5e3,isClosable:!0,position:"bottom"}),W(!1),e.abrupt("return");case 9:return e.prev=9,t={headers:{"Content-type":"application/json"}},e.next=13,x()({method:"post",url:"/api/user",config:t,data:{name:p,email:v,password:S,pic:N}});case 13:n=e.sent,a=n.data,L({title:"Registration successful.",status:"success",duration:5e3,isClosable:!0,position:"bottom"}),localStorage.setItem("userInfo",JSON.stringify(a)),W(!1),U.push("/chats"),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(9),L({title:"Error occurred!",description:e.t0.response.data.message,status:"error",duration:5e3,isClosable:!0,position:"bottom"}),W(!1);case 25:case"end":return e.stop()}}),e,null,[[9,21]])})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)(i.f,{spacing:"5px",children:[Object(f.jsxs)(j.a,{id:"first-name",isRequired:!0,children:[Object(f.jsx)(j.b,{children:"Name"}),Object(f.jsx)(b.a,{placeholder:"Enter Your Name",onChange:function(e){return m(e.target.value)}})]}),Object(f.jsxs)(j.a,{id:"signupemail",isRequired:!0,children:[Object(f.jsx)(j.b,{children:"Email"}),Object(f.jsx)(b.a,{placeholder:"Enter Your Email",onChange:function(e){return k(e.target.value)}})]}),Object(f.jsxs)(j.a,{id:"signuppassword",isRequired:!0,children:[Object(f.jsx)(j.b,{children:"Password"}),Object(f.jsxs)(b.b,{children:[Object(f.jsx)(b.a,{type:n?"text":"password",placeholder:"Enter Your Password",onChange:function(e){return E(e.target.value)}}),Object(f.jsx)(b.c,{width:"4.5rem",children:Object(f.jsx)(h.a,{h:"1.75rem",width:"sm",onClick:function(e){return r(!n)},children:n?"Hide":"Show"})})]})]}),Object(f.jsxs)(j.a,{id:" confirmPassword",isRequired:!0,children:[Object(f.jsx)(j.b,{children:"Confirm Password"}),Object(f.jsxs)(b.b,{children:[Object(f.jsx)(b.a,{type:n?"text":"password",placeholder:"Confirm Your Password",onChange:function(e){return I(e.target.value)}}),Object(f.jsx)(b.c,{width:"4.5rem",children:Object(f.jsx)(h.a,{h:"1.75rem",width:"sm",onClick:function(e){return r(!n)},children:n?"Hide":"Show"})})]})]}),Object(f.jsxs)(j.a,{id:"Picture",isRequired:!0,children:[Object(f.jsx)(j.b,{children:"Upload Picture"}),Object(f.jsx)(b.a,{type:"file",accept:"image/*",p:1.5,onChange:function(e){return function(e){if(W(!0),void 0!==e){if("image/jpeg"!==e.type&&"image/png"!==e.type)return L({title:"Please select an image.",status:"warning",duration:5e3,isClosable:!0,position:"bottom"}),void W(!1);var t=new FormData;t.append("file",e),t.append("upload_preset","chats-app"),t.append("cloud_name","dxejarehg"),fetch("https://api.cloudinary.com/v1_1/dxejarehg/image/upload",{method:"post",body:t}).then((function(e){return e.json()})).then((function(e){R(e.url.toString()),W(!1)})).catch((function(e){W(!1)}))}else L({title:"Please select an image.",status:"warning",duration:5e3,isClosable:!0,position:"bottom"})}(e.target.files[0])}})]}),Object(f.jsx)(h.a,{colorScheme:"blue",width:"100%",style:{marginTop:15},onClick:M,isLoading:G,children:"Sign Up"})]})};var C=function(){var e=Object(O.e)();return Object(a.useEffect)((function(){JSON.parse(localStorage.getItem("userInfo"))&&e.push("/chats")}),[e]),Object(f.jsxs)(i.c,{maxW:"xl",centerContent:!0,children:[Object(f.jsx)(i.b,{p:3,bg:"white",w:"100%",m:"40px 0 15px 0",borderRadius:"lg",borderWidth:"1px",children:Object(f.jsx)(i.e,{fontSize:"4xl",fontFamily:"Work sans",display:"flex",justifyContent:"center",children:"Chats-App"})}),Object(f.jsx)(i.b,{bg:"white",w:"100%",p:4,borderRadius:"lg",borderWidth:"1px",children:Object(f.jsxs)(c.e,{variant:"soft-rounded",children:[Object(f.jsxs)(c.b,{mb:"1em",children:[Object(f.jsx)(c.a,{width:"50%",children:"Log In"}),Object(f.jsx)(c.a,{width:"50%",children:"Sign Up"})]}),Object(f.jsxs)(c.d,{children:[Object(f.jsx)(c.c,{children:Object(f.jsx)(v,{})}),Object(f.jsx)(c.c,{children:Object(f.jsx)(k,{})})]})]})})]})},w=n(54),S=n(31),E=n(99),_=function(e,t,n,a){return n<e.length-1&&e[n+1].sender._id===t.sender._id&&e[n].sender._id!==a?33:n<e.length-1&&e[n+1].sender._id!==t.sender._id&&e[n].sender._id!==a||n===e.length-1&&e[n].sender._id!==a?0:"auto"},F=function(e,t,n,a){return n<e.length-1&&(e[n+1].sender._id!==t.sender._id||void 0===e[n+1].sender._id)&&e[n].sender._id!==a},A=function(e,t,n){return t===e.length-1&&e[e.length-1].sender._id!==n&&e[e.length-1].sender._id},I=function(e,t,n){return n>0&&e[n-1].sender._id===t.sender._id},z=function(e,t){var n,a,r;return(null===(n=t[0])||void 0===n?void 0:n._id)===(null===e||void 0===e?void 0:e._id)?null===(a=t[1])||void 0===a?void 0:a.name:null===(r=t[0])||void 0===r?void 0:r.name},B=function(e,t){var n;return(null===(n=t[0])||void 0===n?void 0:n._id)===(null===e||void 0===e?void 0:e._id)?t[1]:t[0]},N=n(8),R=n(158),D=n(100);var P=function(e){var t=e.user,n=e.children,a=Object(N.d)(),r=a.isOpen,s=a.onOpen,c=a.onClose;return Object(f.jsxs)(f.Fragment,{children:[n?Object(f.jsxs)("span",{onClick:s,children:[" ",n," "]}):Object(f.jsx)(h.b,{display:{base:"flex"},icon:Object(f.jsx)(S.f,{}),onClick:s}),Object(f.jsxs)(R.f,{size:"lg",onClose:c,isOpen:r,isCentered:!0,children:[Object(f.jsx)(R.l,{}),Object(f.jsxs)(R.i,{h:"410px",children:[Object(f.jsx)(R.k,{display:"flex",justifyContent:"center",fontSize:"40px",fontFamily:"Work sans",children:t.name}),Object(f.jsx)(R.h,{}),Object(f.jsxs)(R.g,{display:"flex",flexDir:"column",alignItems:"center",justifyContent:"space-between",children:[Object(f.jsx)(D.a,{borderRadius:"full",boxSize:"150px",src:t.pic,alt:t.name}),Object(f.jsxs)(i.e,{fontSize:{base:"28px",md:"30px"},fontFamily:"Work sans",children:["Email: ",t.email]})]}),Object(f.jsx)(R.j,{children:Object(f.jsx)(h.a,{colorScheme:"blue",mr:3,onClick:c,children:"Close"})})]})]})]})},G=function(e){var t=e.user,n=e.handleFunction,a=e.admin;return Object(f.jsxs)(i.a,{px:2,py:1,borderRadius:"lg",m:1,mb:2,variant:"solid",fontSize:12,colorScheme:"purple",cursor:"pointer",onClick:n,children:[t.name,a===t._id&&Object(f.jsx)("span",{children:" (Admin)"}),Object(f.jsx)(S.e,{pl:1})]})},W=n(143);var L=function(e){var t=e.user,n=e.handleFunction;return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(i.b,{onClick:n,cursor:"pointer",bg:"#E8E8E8",_hover:{background:"#38B2AC",color:"white"},w:"100%",display:"flex",alignItems:"center",color:"black",px:3,py:2,mb:2,borderRadius:"lg",children:[Object(f.jsx)(W.a,{mr:2,size:"sm",cursor:"pointer",name:t.name,src:t.pic}),Object(f.jsxs)(i.b,{children:[Object(f.jsx)(i.e,{children:t.name}),Object(f.jsxs)(i.e,{fontSize:"x-small",children:[Object(f.jsx)("b",{children:"Email : "}),t.email]})]})]})})},U=function(e){var t=e.fetchMessages,n=e.fetchAgain,r=e.setFetchAgain,s=Object(N.d)(),c=s.isOpen,p=s.onOpen,O=s.onClose,m=Object(a.useState)(),y=Object(d.a)(m,2),v=y[0],k=y[1],C=Object(a.useState)(""),w=Object(d.a)(C,2),_=w[0],F=w[1],A=Object(a.useState)([]),I=Object(d.a)(A,2),z=I[0],B=I[1],D=Object(a.useState)(!1),P=Object(d.a)(D,2),W=P[0],U=P[1],M=Object(a.useState)(!1),J=Object(d.a)(M,2),T=J[0],Y=J[1],q=Object(u.a)(),V=g(),H=V.selectedChat,X=V.setSelectedChat,K=V.user,Q=function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var n,a,r;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(F(t),t){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,U(!0),n={headers:{Authorization:"Bearer ".concat(K.token)}},e.next=8,x.a.get("/api/user?search=".concat(_),n);case 8:a=e.sent,r=a.data,U(!1),B(r),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),q({title:"Error Occured!",description:"Failed to Load the Search Results",status:"error",duration:5e3,isClosable:!0,position:"bottom-left"}),U(!1);case 18:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t,a,s;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,Y(!0),t={headers:{Authorization:"Bearer ".concat(K.token)}},e.next=7,x.a.put("/api/chat/renameGroup",{chatId:H._id,chatName:v},t);case 7:a=e.sent,s=a.data,X(s),r(!n),Y(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),q({title:"Error Occured!",description:e.t0.response.data.message,status:"error",duration:5e3,isClosable:!0,position:"bottom"}),Y(!1);case 18:k("");case 19:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var a,s,i;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!H.users.find((function(e){return e._id===t._id}))){e.next=3;break}return q({title:"User Already in group!",status:"error",duration:5e3,isClosable:!0,position:"bottom"}),e.abrupt("return");case 3:if(H.groupAdmin._id===K._id){e.next=6;break}return q({title:"Only admins can add someone!",status:"error",duration:5e3,isClosable:!0,position:"bottom"}),e.abrupt("return");case 6:return e.prev=6,U(!0),a={headers:{Authorization:"Bearer ".concat(K.token)}},e.next=11,x.a.put("/api/chat/addToGroup",{chatId:H._id,userId:t._id},a);case 11:s=e.sent,i=s.data,X(i),r(!n),U(!1),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(6),q({title:"Error Occured!",description:e.t0.response.data.message,status:"error",duration:5e3,isClosable:!0,position:"bottom"}),U(!1);case 22:k("");case 23:case"end":return e.stop()}}),e,null,[[6,18]])})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(l.a)(Object(o.a)().mark((function e(a){var s,i,c;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H.groupAdmin._id===K._id||a._id===K._id){e.next=3;break}return q({title:"Only admins can remove someone!",status:"error",duration:5e3,isClosable:!0,position:"bottom"}),e.abrupt("return");case 3:return e.prev=3,U(!0),s={headers:{Authorization:"Bearer ".concat(K.token)}},e.next=8,x.a.put("/api/chat/removeFromGroup",{chatId:H._id,userId:a._id},s);case 8:i=e.sent,c=i.data,a._id===K._id?X():X(c),r(!n),t(),U(!1),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(3),q({title:"Error Occured!",description:e.t0.response.data.message,status:"error",duration:5e3,isClosable:!0,position:"bottom"}),U(!1);case 20:k("");case 21:case"end":return e.stop()}}),e,null,[[3,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(h.b,{d:{base:"flex"},icon:Object(f.jsx)(S.f,{}),onClick:p}),Object(f.jsxs)(R.f,{onClose:O,isOpen:c,isCentered:!0,children:[Object(f.jsx)(R.l,{}),Object(f.jsxs)(R.i,{children:[Object(f.jsx)(R.k,{fontSize:"35px",fontFamily:"Work sans",display:"flex",justifyContent:"center",children:H.chatName}),Object(f.jsx)(R.h,{}),Object(f.jsxs)(R.g,{display:"flex",flexDir:"column",alignItems:"center",children:[Object(f.jsx)(i.b,{w:"100%",display:"flex",flexWrap:"wrap",pb:3,children:H.users.map((function(e){return Object(f.jsx)(G,{user:e,admin:H.groupAdmin,handleFunction:function(){return ee(e)}},e._id)}))}),Object(f.jsxs)(j.a,{display:"flex",children:[Object(f.jsx)(b.a,{placeholder:"Chat Name",mb:3,value:v,onChange:function(e){return k(e.target.value)}}),Object(f.jsx)(h.a,{variant:"solid",colorScheme:"teal",ml:1,isLoading:T,onClick:Z,children:"Update"})]}),Object(f.jsx)(j.a,{children:Object(f.jsx)(b.a,{placeholder:"Add User to group",mb:1,onChange:function(e){return Q(e.target.value)}})}),W?Object(f.jsx)(E.a,{size:"lg"}):null===z||void 0===z?void 0:z.slice(0,4).map((function(e){return Object(f.jsx)(L,{user:e,handleFunction:function(){return $(e)}},e._id)}))]}),Object(f.jsx)(R.j,{children:Object(f.jsx)(h.a,{onClick:function(){return ee(K)},colorScheme:"red",children:"Leave Group"})})]})]})]})},M=n(144),J=n(163);var T,Y,q=function(e){var t=e.messages,n=g().user;return Object(f.jsx)(J.a,{children:t&&t.map((function(e,a){return Object(f.jsxs)("div",{style:{display:"flex"},children:[(F(t,e,a,n._id)||A(t,a,n._id))&&Object(f.jsx)(M.a,{label:e.sender.name,placement:"bottom-start",hasArrow:!0,children:Object(f.jsx)(W.a,{marginTop:"7px",marginRight:"1px",size:"sm",src:e.sender.pic,name:e.sender.name,cursor:"pointer"})}),Object(f.jsx)("span",{style:{backgroundColor:"".concat(e.sender._id===n._id?"#BEE3F8":"#B9F5D0"),marginLeft:_(t,e,a,n._id),marginTop:I(t,e,a,n._id)?3:10,borderRadius:"20px",padding:"5px 15px",maxWidth:"75%"},children:e.content})]},e._id)}))})},V=(n(227),n(168)),H=n(165),X=n(166),K=n.n(X);var Q=function(e){var t=e.fetchAgain,n=e.setFetchAgain,r=g(),s=r.user,c=r.selectedChat,p=r.setSelectedChat,O=r.notification,m=r.setNotification,y=Object(a.useState)([]),v=Object(d.a)(y,2),k=v[0],C=v[1],_=Object(a.useState)(),F=Object(d.a)(_,2),A=F[0],I=F[1],N=Object(a.useState)(!1),R=Object(d.a)(N,2),D=R[0],G=R[1],W=Object(a.useState)(),L=Object(d.a)(W,2),M=L[0],J=L[1],X=Object(a.useState)(!1),Q=Object(d.a)(X,2),Z=Q[0],$=Q[1],ee=Object(a.useState)(!1),te=Object(d.a)(ee,2),ne=te[0],ae=te[1],re=Object(u.a)();console.log(O,"---------");var se={loop:!0,autoplay:!0,animationData:H,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}};Object(a.useEffect)((function(){(T=Object(V.a)("https://chats-app-project.herokuapp.com/")).emit("setup",s),T.on("connected",(function(){return J(!0)})),T.on("typing",(function(){return ae(!0)})),T.on("stop typing",(function(){return ae(!1)}))}),[]),Object(a.useEffect)((function(){ie(),Y=c}),[c]),Object(a.useEffect)((function(){T.on("message received",(function(e){Y&&Y._id===e.chat._id?C([].concat(Object(w.a)(k),[e])):O.includes(e)||(m([e].concat(Object(w.a)(O))),n(!t))}))}));var ie=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t,n,a;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=2;break}return e.abrupt("return");case 2:return t={headers:{Authorization:"Bearer ".concat(s.token)}},e.prev=3,G(!0),e.next=7,x.a.get("/api/message/".concat(c._id),t);case 7:n=e.sent,a=n.data,C(a),G(!1),T.emit("join chat",c._id),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),re({title:"Error Occured!",description:"Failed to load the messages",status:"error",duration:5e3,isClosable:!0,position:"bottom"});case 17:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var n,a;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==t.key||!A){e.next=15;break}return T.emit("stop typing",c._id),e.prev=2,I(""),e.next=6,x()({method:"post",url:"/api/message",data:{chatId:c._id,content:A},headers:{Authorization:"Bearer ".concat(s.token)}});case 6:n=e.sent,a=n.data,T.emit("newMessage",a),C([].concat(Object(w.a)(k),[a])),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),re({title:"Error Occured!",description:"Failed to send the message",status:"error",duration:5e3,isClosable:!0,position:"bottom"});case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsx)(f.Fragment,{children:c?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(i.e,{fontSize:{base:"28px",md:"30px"},pb:3,px:2,w:"100%",fontFamily:"Work sans",display:"flex",justifyContent:{base:"space-between"},alignItems:"center",children:[Object(f.jsx)(h.b,{display:{base:"flex",md:"none"},icon:Object(f.jsx)(S.b,{}),onClick:function(){return p("")}}),c.isGroupChat?Object(f.jsxs)(f.Fragment,{children:[c.chatName.toUpperCase(),Object(f.jsx)(U,{fetchAgain:t,setFetchAgain:n,fetchMessages:ie})]}):Object(f.jsxs)(f.Fragment,{children:[z(s,c.users),Object(f.jsx)(P,{user:B(s,c.users)})]})]}),Object(f.jsxs)(i.b,{display:"flex",flexDir:"column",justifyContent:"flex-end",p:3,bg:"#E8E8E8",w:"100%",h:"100%",borderRadius:"lg",overflowY:"hidden",children:[D?Object(f.jsx)(E.a,{size:"xl",alignSelf:"center",margin:"auto",w:20,h:20}):Object(f.jsx)("div",{className:"messages",children:Object(f.jsx)(q,{messages:k})}),Object(f.jsxs)(j.a,{onKeyDown:ce,isRequired:!0,mt:3,children:[ne?Object(f.jsx)("div",{children:Object(f.jsx)(K.a,{options:se,width:70,style:{marginBottom:15,marginLeft:0}})}):Object(f.jsx)(f.Fragment,{}),Object(f.jsx)(b.a,{variant:"filled",bg:"#E0E0E0",placeholder:"Enter a message",onChange:function(e){if(I(e.target.value),M){Z||($(!0),T.emit("typing",c._id));var t=(new Date).getTime();setTimeout((function(){(new Date).getTime()-t>3e3&&(T.emit("stop typing",c._id),$(!1))}),3e3)}},value:A})]})]})]}):Object(f.jsx)(i.b,{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",children:Object(f.jsx)(i.e,{fontSize:"3xl",fontFamily:"Work sans",pb:3,children:"Click on user to start chatting"})})})};var Z=function(e){var t=e.fetchAgain,n=e.setFetchAgain,a=g().selectedChat;return Object(f.jsx)(i.b,{display:{base:a?"flex":"none",md:"flex"},alignItems:"center",flexDir:"column",p:3,bg:"white",width:{base:"100%",md:"68%"},borderRadius:"lg",borderWidth:"1px",children:Object(f.jsx)(Q,{fetchAgain:t,setFetchAgain:n})})},$=n(24),ee=function(){return Object(f.jsxs)(i.d,{children:[Object(f.jsx)($.a,{height:"45px"}),Object(f.jsx)($.a,{height:"45px"}),Object(f.jsx)($.a,{height:"45px"}),Object(f.jsx)($.a,{height:"45px"}),Object(f.jsx)($.a,{height:"45px"}),Object(f.jsx)($.a,{height:"45px"}),Object(f.jsx)($.a,{height:"45px"}),Object(f.jsx)($.a,{height:"45px"}),Object(f.jsx)($.a,{height:"45px"}),Object(f.jsx)($.a,{height:"45px"}),Object(f.jsx)($.a,{height:"45px"}),Object(f.jsx)($.a,{height:"45px"})]})};var te=function(e){var t=e.children,n=Object(a.useState)(),r=Object(d.a)(n,2),s=r[0],c=r[1],p=Object(a.useState)([]),O=Object(d.a)(p,2),m=O[0],y=O[1],v=Object(a.useState)(""),k=Object(d.a)(v,2),C=k[0],S=k[1],E=Object(a.useState)([]),_=Object(d.a)(E,2),F=_[0],A=_[1],I=Object(a.useState)(!1),z=Object(d.a)(I,2),B=z[0],D=z[1],P=Object(u.a)(),W=g(),U=W.user,M=W.chats,J=W.setChats,T=Object(N.d)(),Y=T.isOpen,q=T.onOpen,V=T.onClose,H=function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var n,a,r;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S(t),t){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,D(!0),n={headers:{Authorization:"Bearer ".concat(U.token)}},e.next=8,x.a.get("/api/user?search=".concat(C),n);case 8:a=e.sent,r=a.data,D(!1),A(r),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),P({title:"Error Occured!",description:"Failed to Load the Search Results",status:"error",duration:5e3,isClosable:!0,position:"bottom-left"});case 17:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t,n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s&&m||P({title:"Please fill all the feilds",status:"warning",duration:5e3,isClosable:!0,position:"top"}),e.prev=1,e.next=4,x()({method:"post",url:"/api/chat/group",headers:{Authorization:"Bearer ".concat(U.token)},data:{name:s,users:JSON.stringify(m.map((function(e){return e._id})))}});case 4:t=e.sent,n=t.data,J([n].concat(Object(w.a)(M))),V(),P({title:"New Group Chat Created!",status:"success",duration:5e3,isClosable:!0,position:"bottom"}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),P({title:"Failed to Create the Chat!",description:e.t0.response.data,status:"error",duration:5e3,isClosable:!0,position:"bottom"});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("span",{onClick:q,children:t}),Object(f.jsxs)(R.f,{onClose:V,isOpen:Y,isCentered:!0,children:[Object(f.jsx)(R.l,{}),Object(f.jsxs)(R.i,{children:[Object(f.jsx)(R.k,{fontSize:"35px",fontFamily:"Work sans",display:"flex",justifyContent:"center",children:"Create Group Chat"}),Object(f.jsx)(R.h,{}),Object(f.jsxs)(R.g,{dislay:"flex",flexDir:"column",alignItems:"center",children:[Object(f.jsx)(j.a,{children:Object(f.jsx)(b.a,{placeholder:"Chat Name",mb:3,onChange:function(e){return c(e.target.value)}})}),Object(f.jsx)(j.a,{children:Object(f.jsx)(b.a,{placeholder:"Add Users eg: John, Piyush, Jane",mb:1,onChange:function(e){return H(e.target.value)}})}),Object(f.jsx)(i.b,{width:"100%",display:"flex",flexWrap:"wrap",children:m.map((function(e){return Object(f.jsx)(G,{user:e,handleFunction:function(){return t=e,void y(m.filter((function(e){return e._id!==t._id})));var t}},e._id)}))}),B?Object(f.jsx)("div",{children:"Loading..."}):null===F||void 0===F?void 0:F.slice(0,4).map((function(e){return Object(f.jsx)(L,{user:e,handleFunction:function(){return t=e,void(m.includes(t)?P({title:"User already added",status:"warning",duration:5e3,isClosable:!0,position:"top"}):y([].concat(Object(w.a)(m),[t])));var t}},e._id)}))]}),Object(f.jsx)(R.j,{children:Object(f.jsx)(h.a,{onClick:X,colorScheme:"blue",children:"Create Chat"})})]})]})]})};var ne=function(e){var t=e.fetchAgain,n=Object(a.useState)(),r=Object(d.a)(n,2),s=r[0],c=r[1],j=g(),b=j.user,p=j.selectedChat,O=j.setSelectedChat,m=j.chats,y=j.setChats,v=Object(u.a)(),k=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t,n,a;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={headers:{Authorization:"Bearer ".concat(b.token)}},e.next=4,x.a.get("/api/chat",t);case 4:n=e.sent,a=n.data,y(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),v({title:"Error Occured!",description:"Failed to Load the chats",status:"error",duration:5e3,isClosable:!0,position:"bottom-left"});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){c(JSON.parse(localStorage.getItem("userInfo"))),k()}),[t]),Object(f.jsxs)(i.b,{display:{base:p?"none":"flex",md:"flex"},flexDir:"column",alignItems:"center",padding:3,background:"white",width:{base:"100%",md:"32%"},height:"100%",borderRadius:"lg",borderWidth:"1px",children:[Object(f.jsxs)(i.b,{paddingBottom:3,paddingX:3,fontSize:{base:"28px",md:"30px"},fontFamily:"Work sans",display:"flex",width:"100%",justifyContent:"space-between",alignItems:"center",children:["My Chats",Object(f.jsx)(te,{children:Object(f.jsx)(h.a,{display:"flex",fontSize:{base:"17px",md:"10px",lg:"17px"},rightIcon:Object(f.jsx)(S.a,{}),children:"New Group Chat"})})]}),Object(f.jsx)(i.b,{display:"flex",flexDir:"column",padding:3,background:"#F8F8F8",width:"100%",height:"100%",borderRadius:"lg",overflowY:"hidden",children:m?Object(f.jsx)(i.d,{overflowY:"scroll",children:m.map((function(e){return Object(f.jsxs)(i.b,{onClick:function(){return O(e)},cursor:"pointer",background:p===e?"#38B2AC":"#E8E8E8",color:p===e?"white":"black",paddingX:3,paddingY:2,borderRadius:"lg",children:[Object(f.jsx)(i.e,{children:e.isGroupChat?e.chatName:z(s,e.users)}),e.latestMessage&&Object(f.jsxs)(i.e,{fontSize:"xs",children:[Object(f.jsxs)("b",{children:[e.latestMessage.sender.name," : "]}),e.latestMessage.content.length>50?e.latestMessage.content.substring(0,51)+"...":e.latestMessage.content]})]},e._id)}))}):Object(f.jsx)(ee,{})})]})},ae=n(160),re=n(167),se=n(124),ie=n.n(se);function ce(){var e=Object(a.useState)(),t=Object(d.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(),c=Object(d.a)(s,2),j=c[0],p=c[1],m=Object(a.useState)(!1),y=Object(d.a)(m,2),v=y[0],k=y[1],C=Object(a.useState)(),_=Object(d.a)(C,2),F=_[0],A=_[1],I=g(),B=I.user,D=I.setSelectedChat,G=I.chats,U=I.setChats,J=I.notification,T=I.setNotification,Y=Object(O.e)(),q=Object(N.d)(),V=q.isOpen,H=q.onOpen,X=q.onClose,K=Object(u.a)(),Q=Object(a.useState)({}),Z=Object(d.a)(Q,2),$=(Z[0],Z[1]);Object(a.useEffect)((function(){$(B)}),[B]);var te=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t,a,r;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=3;break}return K({title:"Please Enter something in search",status:"warning",duration:5e3,isClosable:!0,position:"top-left"}),e.abrupt("return");case 3:return t={headers:{Authorization:"Bearer ".concat(B.token)}},e.prev=4,k(!0),e.next=8,x.a.get("/api/user?search=".concat(n),t);case 8:a=e.sent,r=a.data,k(!1),p(r),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),K({title:"Error Occured!",description:"Failed to Load the Search Results",status:"error",duration:5e3,isClosable:!0,position:"bottom-left"});case 17:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var n,a;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,A(!0),e.next=4,x()({method:"post",url:"/api/chat",headers:{Authorization:"Bearer ".concat(B.token)},data:{userId:t}});case 4:n=e.sent,a=n.data,G.find((function(e){return e._id===a._id}))||U([a].concat(Object(w.a)(G))),D(a),A(!1),X(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),K({title:"Error fetching the chat",description:e.t0.message,status:"error",duration:5e3,isClosable:!0,position:"bottom-left"});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(i.b,{display:"flex",justifyContent:"space-between",alignItems:"center",bg:"white",w:"100%",p:"5px 10px 5px 10px",borderWidth:"5px",children:[Object(f.jsx)(M.a,{label:"Search Users to chat",hasArrow:!0,placement:"bottom-end",children:Object(f.jsxs)(h.a,{variant:"ghost",onClick:H,children:[Object(f.jsx)("i",{className:"fas fa-search"}),Object(f.jsx)(i.e,{display:{base:"none",md:"flex"},px:4,children:"Search User"})]})}),Object(f.jsx)(i.e,{fontSize:"2xl",fontFamily:"Work sans",children:"Chats-App"}),Object(f.jsxs)(ae.a,{children:[Object(f.jsxs)(ae.b,{p:1,children:[Object(f.jsx)(ie.a,{count:J.length,effect:re.Effect.SCALE}),Object(f.jsx)(S.c,{fontSize:"2xl",m:"1"})]}),Object(f.jsxs)(ae.e,{pl:2,children:[!J.length&&"No new messages",J.map((function(e){return Object(f.jsx)(ae.d,{onClick:function(){D(e.chat),T(J.filter((function(t){return t!=e})))},children:e.chat.isGroupChat?"New Message in ".concat(e.chat.chatName):"New message from ".concat(z(B,e.chat.users))},e._id)}))]})]}),Object(f.jsxs)(ae.a,{children:[Object(f.jsx)(ae.b,{as:h.a,bg:"white",rightIcon:Object(f.jsx)(S.d,{}),children:Object(f.jsx)(W.a,{size:"sm",cursor:"pointer",name:B.name,src:B.pic})}),Object(f.jsxs)(ae.e,{children:[Object(f.jsx)(P,{user:B,children:Object(f.jsx)(ae.d,{children:"My Profile"})}),Object(f.jsx)(ae.c,{}),Object(f.jsx)(ae.d,{onClick:function(){localStorage.removeItem("userInfo"),Y.push("/")},children:"Logout"})]})]})]}),Object(f.jsxs)(R.a,{placement:"left",onClose:X,isOpen:V,children:[Object(f.jsx)(R.e,{}),Object(f.jsxs)(R.c,{children:[Object(f.jsx)(R.d,{borderBottomWidth:"1px",children:"Serach Users"}),Object(f.jsxs)(R.b,{children:[Object(f.jsxs)(i.b,{display:"flex",pb:2,children:[Object(f.jsx)(b.a,{placeholder:"Search By name or email",mr:2,value:n,onChange:function(e){return r(e.target.value)}}),Object(f.jsx)(h.a,{onClick:te,children:"Go"})]}),v?Object(f.jsx)(ee,{}):null===j||void 0===j?void 0:j.map((function(e){return Object(f.jsx)(L,{user:e,handleFunction:function(){return ne(e._id)}},e._id)})),F&&Object(f.jsx)(E.a,{ml:"auto",display:"flex"})]})]})]})]})}var oe=function(){var e=Object(a.useState)(!1),t=Object(d.a)(e,2),n=t[0],r=t[1],s=g().user;return Object(f.jsxs)("div",{style:{width:"100%"},children:[s&&Object(f.jsx)(ce,{}),Object(f.jsxs)(i.b,{display:"flex",justifyContent:"center",width:"100%",height:"91vh",children:[s&&Object(f.jsx)(ne,{fetchAgain:n}),s&&Object(f.jsx)(Z,{fetchAgain:n,setFetchAgain:r})]})]})};var le=function(){return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)(O.a,{exact:!0,path:"/",component:C}),Object(f.jsx)(O.a,{exact:!0,path:"/chats",component:oe})]})},de=n(26),ue=n(57);s.a.render(Object(f.jsx)(ue.a,{children:Object(f.jsx)(y,{children:Object(f.jsx)(de.a,{children:Object(f.jsx)(le,{})})})}),document.getElementById("root"))}},[[283,1,2]]]);
//# sourceMappingURL=main.427caa43.chunk.js.map